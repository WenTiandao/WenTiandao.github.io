{"title":"”hadoop和spark单机伪分布式集群搭建“","uid":"12060df9f4a3beced7cb40b966b788ad","slug":"hadoop和spark单机伪分布式集群搭建","date":"2023-05-05T07:03:36.000Z","updated":"2023-05-05T07:30:07.575Z","comments":true,"path":"api/articles/hadoop和spark单机伪分布式集群搭建.json","keywords":null,"cover":null,"content":"<p> 配置网络：</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">vi /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre></div><p>修改 bootproto&#x3D;static，onboot&#x3D;yes，并添加 IP 地址、网关、子网掩码和 DNS 信息</p>\n<p>重启网卡：</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">systemctl restart network</span></span></code></pre></div><p>xshell远程连接</p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">yum install -y epel-release</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">yum install -y pdsh</span></span></code></pre></div><p>下载 hadoop-3.1.4.tar.gz  上传到&#x2F;opt目录下并解压 </p>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">tar -xf hadoop-3.1.4.tar.gz</span></span></code></pre></div><ol start=\"3\">\n<li>下载jdk-8u281-linux-x64.rpm并上传到&#x2F;opt目录下，执行以下安装命令</li>\n</ol>\n<div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">rpm -ivh jdk-8u281-linux-x64.rpm</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">vi /opt/hadoop-3.1.4/etc/hadoop/hadoop-env.sh</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">export JAVA_HOME=/usr/java/jdk1.8.0_281-amd64/</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">vi /opt/hadoop-3.1.4/etc/hadoop/core-site.xml</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">&lt;configuration&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;property&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">        &lt;name&gt;fs.defaultFS&lt;/name&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">        &lt;value&gt;hdfs://localhost:9000&lt;/value&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;/property&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;/configuration&gt;</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">vi /opt/hadoop-3.1.4/etc/hadoop/hdfs-site.xml</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">&lt;configuration&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;property&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">    &lt;name&gt;dfs.replication&lt;/name&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">    &lt;value&gt;1&lt;/value&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;/property&gt;</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">&lt;/configuration&gt;</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">ssh-keygen</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">cat ~/.ssh/id_rsa.pub &gt;&gt; ~/.ssh/authorized_keys</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">chmod 600 ~/.ssh/authorized_keys</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">ssh localhost</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">cd /opt/hadoop-3.1.4</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">bin/hdfs namenode -format</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">sbin/start-dfs.sh</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">vi /etc/profile</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">export HDFS_NAMENODE_USER=root</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">export HDFS_DATANODE_USER=root</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">export HDFS_SECONDARYNAMENODE_USER=root</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">export YARN_RESOURCEMANAGER_USER=root</span></span>\n<span class=\"line\"><span style=\"color: #babed8\">export YARN_NODEMANAGER_USER=root</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">source /etc/profile</span></span></code></pre></div><div class=\"language-txt\"><button title=\"Copy code\" class=\"copy\"></button><span class=\"lang\">txt</span><pre class=\"shiki material-theme-palenight\" style=\"background-color: #1a1a1a\" tabindex=\"0\"><code><span class=\"line\"><span style=\"color: #babed8\">sbin/start-dfs.sh</span></span></code></pre></div>","feature":true,"text":" 配置网络： txtvi /etc/sysconfig/network-scripts/ifcfg-ens33修改 bootproto&#x3D;static，...","permalink":"/post/hadoop和spark单机伪分布式集群搭建","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[],"toc":"","author":{"name":"Aurora","slug":"blog-author","avatar":"https://imgloc.com/image/nvClX","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"二分查找","uid":"d843ced03f40ac612213952de4b63ad2","slug":"二分查找","date":"2023-11-17T07:46:14.000Z","updated":"2023-11-17T08:01:41.537Z","comments":true,"path":"api/articles/二分查找.json","keywords":null,"cover":null,"text":"704.给定一个 n 个元素有序的（升序）整型数组 nums 和一个目标值 target ，写一个函数搜索 nums 中的 target，如果目标值存在返回下标...","permalink":"/post/二分查找","photos":[],"count_time":{"symbolsCount":981,"symbolsTime":"1 mins."},"categories":[{"name":"算法进阶之路","slug":"算法进阶之路","count":1,"path":"api/categories/算法进阶之路.json"}],"tags":[{"name":"二分查找","slug":"二分查找","count":1,"path":"api/tags/二分查找.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://imgloc.com/image/nvClX","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"进制转换","uid":"3a5edbaf2fab1786cda1ddc2eee70e29","slug":"进制转换","date":"2023-04-30T09:45:52.000Z","updated":"2023-05-05T07:31:23.987Z","comments":true,"path":"api/articles/进制转换.json","keywords":null,"cover":null,"text":"信息在计算机中的表示进制转换R进制→十进制$$R进制数:k_{n}k_{n-1}k_{n-2}…k_{2}k_{1}k_{0}k_{-1}k_{-2}…k_{-...","permalink":"/post/进制转换","photos":[],"count_time":{"symbolsCount":397,"symbolsTime":"1 mins."},"categories":[{"name":"计算机组成原理","slug":"计算机组成原理","count":1,"path":"api/categories/计算机组成原理.json"}],"tags":[{"name":"数据处理","slug":"数据处理","count":1,"path":"api/tags/数据处理.json"},{"name":"进制转换","slug":"进制转换","count":1,"path":"api/tags/进制转换.json"}],"author":{"name":"Aurora","slug":"blog-author","avatar":"https://imgloc.com/image/nvClX","link":"/","description":"","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}